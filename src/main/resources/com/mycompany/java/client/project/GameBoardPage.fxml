<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="600.0" prefWidth="900.0" styleClass="main-container" stylesheets="@/styles/GameBoard.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.mycompany.java.client.project.GameBoardController">
    <left>
        <VBox prefWidth="240.0" spacing="20" styleClass="stats-container">
            <padding>
                <Insets bottom="25" left="15" right="15" top="30" />
            </padding>
            <Label styleClass="spectators-title" text="GAME STATISTICS" textFill="WHITE" underline="true">
                <font>
                    <Font name="System Bold" size="14.0" />
                </font>
            </Label>
            <VBox spacing="12">
                <HBox styleClass="stat-card, stat-p1">
                    <Label text="P1 Wins" textFill="WHITE" />
                    <Pane HBox.hgrow="ALWAYS" />
                    <Label fx:id="player1Wins" style="-fx-font-weight: bold;" text="0" textFill="WHITE" />
                </HBox>
                <HBox styleClass="stat-card, stat-draw">
                    <Label text="Draws" textFill="WHITE" />
                    <Pane HBox.hgrow="ALWAYS" />
                    <Label fx:id="drawsCount" style="-fx-font-weight: bold;" text="0" textFill="WHITE" />
                </HBox>
                <HBox styleClass="stat-card, stat-p2">
                    <Label text="P2 Wins" textFill="WHITE" />
                    <Pane HBox.hgrow="ALWAYS" />
                    <Label fx:id="player2Wins" style="-fx-font-weight: bold;" text="0" textFill="WHITE" />
                </HBox>
            </VBox>
            <Pane VBox.vgrow="ALWAYS" />
            <Button maxWidth="Infinity" onAction="#leaveGame" styleClass="leave-button" text="Leave Match" />
        </VBox>
    </left>

    <center>
        <VBox alignment="CENTER" spacing="10">
            <padding>
                <Insets bottom="20" left="20" right="20" top="20" />
            </padding>

            <HBox alignment="CENTER_LEFT" spacing="15" styleClass="player-card-container, full-width, player1-card">
                <padding>
                    <Insets bottom="10" left="15" right="15" top="10" />
                </padding>
                <StackPane fx:id="player1Container" styleClass="avatar-turn-container">
                    <StackPane>
                        <Circle fill="TRANSPARENT" opacity="0.3" radius="28" stroke="#2e5bff" strokeWidth="1" />
                        <Circle fx:id="player1Avatar" radius="25" stroke="#2e5bff" strokeWidth="2" styleClass="avatar-fancy" />
                        <Circle fill="#00ff88" radius="5" stroke="#0d0d17" strokeWidth="2" StackPane.alignment="BOTTOM_RIGHT">
                            <StackPane.margin>
                                <Insets bottom="2" right="2" />
                            </StackPane.margin>
                            <effect>
                                <DropShadow color="#00ff88" radius="10" spread="0.8" />
                            </effect>
                        </Circle>
                    </StackPane>
                </StackPane>
                <VBox alignment="CENTER_LEFT">
                    <Label fx:id="player1Name" style="-fx-font-weight: bold; -fx-font-size: 15px;" text="Sova" textFill="WHITE" />
                    <HBox>
                        <Label fx:id="player1Score" style="-fx-font-weight: bold; -fx-font-size: 15px;" text="0" textFill="#2e5bff" />
                    </HBox>
                </VBox>
            </HBox>
            <TextField fx:id="label_turn" alignment="CENTER" editable="false" maxHeight="-Infinity" maxWidth="-Infinity" prefHeight="26.0" prefWidth="374.0" styleClass="turn-label" text=" Player-X Turn" VBox.vgrow="NEVER" />

            <StackPane fx:id="gameArea" VBox.vgrow="ALWAYS">
                <GridPane fx:id="gridPane" alignment="CENTER" hgap="10" maxHeight="-Infinity" maxWidth="-Infinity" prefHeight="400.0" prefWidth="400.0" styleClass="game-grid" vgap="10">
                    <Button fx:id="btn00" onAction="#handleMove" prefHeight="90" prefWidth="90" styleClass="game-button" GridPane.columnIndex="0" GridPane.rowIndex="0" GridPane.halignment="CENTER"  GridPane.valignment="CENTER" />
                    <Button fx:id="btn01" onAction="#handleMove" prefHeight="90" prefWidth="90" styleClass="game-button" GridPane.columnIndex="1" GridPane.rowIndex="0" GridPane.halignment="CENTER"  GridPane.valignment="CENTER"/>
                    <Button fx:id="btn02" onAction="#handleMove" prefHeight="90" prefWidth="90" styleClass="game-button" GridPane.columnIndex="2" GridPane.rowIndex="0" GridPane.halignment="CENTER"  GridPane.valignment="CENTER"/>
                    <Button fx:id="btn10" onAction="#handleMove" prefHeight="90" prefWidth="90" styleClass="game-button" GridPane.columnIndex="0" GridPane.rowIndex="1" GridPane.halignment="CENTER"  GridPane.valignment="CENTER"/>
                    <Button fx:id="btn11" onAction="#handleMove" prefHeight="90" prefWidth="90" styleClass="game-button" GridPane.columnIndex="1" GridPane.rowIndex="1" GridPane.halignment="CENTER"  GridPane.valignment="CENTER"/>
                    <Button fx:id="btn12" onAction="#handleMove" prefHeight="90" prefWidth="90" styleClass="game-button" GridPane.columnIndex="2" GridPane.rowIndex="1" GridPane.halignment="CENTER"  GridPane.valignment="CENTER"/>
                    <Button fx:id="btn20" onAction="#handleMove" prefHeight="90" prefWidth="90" styleClass="game-button" GridPane.columnIndex="0" GridPane.rowIndex="2" GridPane.halignment="CENTER"  GridPane.valignment="CENTER"/>
                    <Button fx:id="btn21" onAction="#handleMove" prefHeight="90" prefWidth="90" styleClass="game-button" GridPane.columnIndex="1" GridPane.rowIndex="2" GridPane.halignment="CENTER"  GridPane.valignment="CENTER"/>
                    <Button fx:id="btn22" onAction="#handleMove" prefHeight="90" prefWidth="90" styleClass="game-button" GridPane.columnIndex="2" GridPane.rowIndex="2" GridPane.halignment="CENTER"  GridPane.valignment="CENTER"/>
                    <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="90.0" prefWidth="90.0" />
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="90.0" prefWidth="90.0" />
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="90.0" prefWidth="90.0" />
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints minHeight="90.0" prefHeight="90.0" vgrow="SOMETIMES" />
                        <RowConstraints minHeight="90.0" prefHeight="90.0" vgrow="SOMETIMES" />
                        <RowConstraints minHeight="90.0" prefHeight="90.0" vgrow="SOMETIMES" />
                    </rowConstraints>
                </GridPane>
                <Pane fx:id="gridOverlay" mouseTransparent="true" pickOnBounds="false" />  
            </StackPane>

            <HBox alignment="CENTER_RIGHT" spacing="15" styleClass="player-card-container, full-width, player2-card">
                <padding>
                    <Insets bottom="10" left="15" right="15" top="10" />
                </padding>
                <VBox alignment="CENTER_RIGHT">
                    <Label fx:id="player2Name" style="-fx-font-weight: bold; -fx-font-size: 15px;" text="Sage" textFill="WHITE" />
                    <HBox>
                        <Label fx:id="player2Score" style="-fx-font-weight: bold;  -fx-font-size: 15px;" text="0" textFill="#ff5e7e" />
                    </HBox>
                </VBox>
                <StackPane fx:id="player2Container" styleClass="avatar-turn-container">
                    <StackPane>
                        <Circle fill="TRANSPARENT" opacity="0.3" radius="28" stroke="#ff5e7e" strokeWidth="1" />
                        <Circle fx:id="player2Avatar" radius="25" stroke="#ff5e7e" strokeWidth="2" styleClass="avatar-fancy-p2" />
                        <Circle fill="#00ff88" radius="5" stroke="#0d0d17" strokeWidth="2" StackPane.alignment="BOTTOM_LEFT">
                            <StackPane.margin>
                                <Insets bottom="2" left="2" />
                            </StackPane.margin>
                            <effect>
                                <DropShadow color="#00ff88" radius="10" spread="0.8" />
                            </effect>
                        </Circle>
                    </StackPane>
                </StackPane>
            </HBox>
        </VBox>
    </center>

    <right>
        <VBox prefWidth="220.0" spacing="15" styleClass="spectators-container">
            <padding>
                <Insets bottom="20" left="20" right="20" top="30" />
            </padding>
            <Label styleClass="spectators-title" text="SPECTATORS" textFill="WHITE" underline="true">
                <font>
                    <Font name="System Bold" size="14.0" />
                </font>
            </Label>
            <ListView fx:id="spectatorsList" styleClass="dark-list-view" VBox.vgrow="ALWAYS" />
        </VBox>
    </right>
</BorderPane>
